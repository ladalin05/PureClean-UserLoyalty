import{u as T,_ as q,a as G}from"./BsLC4us7.js";import{i as H,u as p,j as A,d as I,l as m,m as w,n as C,w as t,r as a,o as i,h as e,c as k,C as J,b as o,t as s,f as r,F as K,e as O,g as b}from"./UQl896Zx.js";import{f as Q}from"./Cy-Jv7LA.js";import{u as U}from"./1miiRyyY.js";const W=H("reward",()=>{const{$AdminPrivateAxios:u}=p(),d=A([]);return{rewards:d,fetchRewards:async()=>{const c=(await u.get("/rewards"))?.data?.data||{};d.value=Array.isArray(c)?c:[]}}}),X={class:"p-3 mt-[53px] mb-[15px]"},Y={class:"font-medium text-[20px] leading-[30px] tracking-normal"},Z={class:"p-4"},tt={class:"text-[20px] dark:text-[#FFFFFF] font-medium mb-4"},et={class:"text-[#FFB86A] dark:text-[#FFFFFF]"},at={key:0,class:"w-full absolute top-0 left-0 flex justify-center items-center bg-white h-[100vh]"},ct=I({__name:"index",setup(u){const n=p().$translate,{$alert:F}=p(),c=U(),f=W(),v=T(),D=m(()=>f.rewards),S=m(()=>v.loyaltyCard),l=m({get:()=>c.value==="dark"});w(async()=>{try{await Promise.all([f.fetchRewards(),v.fetchLoyaltyCards()])}catch(_){const x=_?.response?.data?.message||_?.message||"Failed to load data";F.error(x)}});const h=A(!0);return w(()=>{setTimeout(()=>{h.value=!1},4e3)}),(_,x)=>{const B=q,N=a("v-sheet"),R=a("v-avatar"),L=a("v-list-item-title"),V=a("v-list-item-subtitle"),$=a("v-chip"),z=a("v-list-item"),M=a("v-list"),y=a("v-container"),j=a("v-progress-circular"),E=a("v-main");return i(),C(E,{class:"font-roboto",style:{color:"#323232 !important"}},{default:t(()=>[e(y,{class:"pa-0 fill-height align-start"},{default:t(()=>[e(N,{color:l.value?"#323232":"#35667D",height:"250",width:"100%",class:"text-center rounded-b-xl"},{default:t(()=>[o("div",X,[o("h2",Y,s(r(n)("rewards")),1)]),o("div",Z,[e(B,{loyaltyCard:S.value},null,8,["loyaltyCard"])])]),_:1},8,["color"]),e(y,{class:"mt-[120px] md:mt-96 pt-10"},{default:t(()=>[o("h3",tt,s(r(n)("reward_history")),1),e(M,{"bg-color":"transparent"},{default:t(()=>[(i(!0),k(K,null,O(D.value,(g,P)=>(i(),C(z,{key:P,class:"px-0 mb-4"},{prepend:t(()=>[e(R,{color:l.value?"#323232":"#F3F4F6",size:"56",class:"p-3"},{default:t(()=>[e(G,{name:"stamp",width:26,height:26,color:l.value?"#FFFFFF":"#7F7F7F"},null,8,["color"])]),_:1},8,["color"])]),append:t(()=>[e($,{size:"small",color:l.value?"#323232":"#FFEDD4",variant:"flat"},{default:t(()=>[o("span",et,s(r(n)("claimed")),1)]),_:1},8,["color"])]),default:t(()=>[e(L,{class:"text-[14px] dark:text-[#FFFFFF] font-medium"},{default:t(()=>[b(s(g.product.name),1)]),_:2},1024),e(V,{class:"text-[12px] dark:text-[#FFFFFF] font-medium color-[#7F7F7F]"},{default:t(()=>[b(s(r(Q)(g.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),r(h)?(i(),k("div",at,[e(j,{indeterminate:"",color:"primary",size:"70"})])):J("",!0)]),_:1})}}});export{ct as default};
